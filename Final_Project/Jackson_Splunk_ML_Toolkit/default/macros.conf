[classificationstatistics(2)]
args = a, p
definition = rename $a$ as classificationstatisticsActual, $p$ as classificationstatisticsPredicted | stats count(eval(classificationstatisticsActual == classificationstatisticsPredicted)) as t count(eval(classificationstatisticsActual != classificationstatisticsPredicted)) as f by classificationstatisticsActual classificationstatisticsPredicted | eventstats sum(eval(t+f)) as total | eventstats sum(eval(if(classificationstatisticsActual==classificationstatisticsPredicted, t, 0))) as tp sum(eval(if(classificationstatisticsActual!=classificationstatisticsPredicted, f, 0))) as fn by classificationstatisticsActual | eventstats sum(eval(if(classificationstatisticsActual!=classificationstatisticsPredicted, f, 0))) as fp by classificationstatisticsPredicted | where classificationstatisticsActual == classificationstatisticsPredicted | eval tn = total - tp | stats avg(eval(tp/(tp+fp))) as precision avg(eval(tp/(tp+fn))) as recall avg(eval((tp+tn)/(tp+tn+fp+fn))) as accuracy | eval f1=2*precision*recall/(precision+recall)